{"version":3,"sources":["containers/login/login.module.css","containers/gateOpener/gateOpener.module.css","containers/doorman/doorman.module.css","components/header/header.module.css","components/header/header.tsx","config.ts","utils/storageHelper.ts","utils/authHelper.ts","providers/cameraProvider.ts","containers/viewCameras/viewCameras.tsx","providers/gateProvider.ts","containers/gateOpener/gateOpener.tsx","providers/announcementProvider.ts","containers/doorman/doorman.tsx","providers/beaconProvider.ts","containers/nearbyDevices/nearbyDevices.tsx","providers/authProvider.ts","containers/login/login.tsx","containers/home/home.tsx","containers/login/logout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","container","submit","header","hidden","logs","response","navbar","Header","react_default","a","createElement","className","style","react_router_dom","to","configValues","local","serverPath","prod","config","key","USE_LOCAL_STORE","localStorage","storageHelper","memoryStore","lastExpirationCheck","Date","now","this","store","_getStore","Object","keys","forEach","expiration","_setStore","dataStr","getItem","JSON","parse","value","_checkForExpired","setItem","stringify","arguments","length","undefined","data","clear","authHelper","auth","set","setAuth","get","token","cameraProvider","cam","getToken","Error","fetch","concat","method","headers","Authorization","res","blob","ViewCameras","state","images","totalCameras","mounted","fetchImages","_callee","_loop","i","regenerator_default","wrap","_context2","prev","next","_this","abrupt","mark","imageBlob","image","_context","getCameraImage","sent","URL","createObjectURL","setState","slice","splice","t0","stop","delegateYield","setTimeout","getTotalCameras","react_router","Fragment","map","idx","alt","src","React","Component","gateProvider","text","msg","GateOpener","_useState","useState","_useState2","slicedToArray","setLogs","getLogs","then","_useState3","_useState4","openRes","setOpenRes","type","onClick","openGate","split","reverse","join","announcementProvider","Doorman","setMsg","_clickHandler","asyncToGenerator","comingHome","apply","styles","beaconProvider","NearbyDevices","nearbyDevices","setNearbyDevices","currentDevices","id","dangerouslySetInnerHTML","__html","authProvider","username","password","body","redirect","Content-Type","json","Login","loggedIn","login","e","preventDefault","_this2","onSubmit","placeholder","name","onChange","target","Home","Logout","clearAuth","App","path","exact","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App","document","getElementById","process","href","origin","addEventListener","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9b965e6e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__1PQ8s\",\"submit\":\"login_submit__2kKaX\",\"header\":\"login_header__5znqL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gateOpener_container__3nsRs\",\"hidden\":\"gateOpener_hidden__3Q13x\",\"logs\":\"gateOpener_logs__WzVmp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"doorman_container__1jubE\",\"response\":\"doorman_response__3Qr6R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"header_navbar__2tHvZ\"};","import React from \"react\";\nimport style from \"./header.module.css\";\nimport { Link } from \"react-router-dom\";\n\nconst Header: React.FC = () => {\n  return (\n    <div className={style.navbar}>\n      <Link to=\"/home/cams\">Cams</Link>\n      <Link to=\"/home/gate\">Gate</Link>\n      <Link to=\"/home/doorman\">Doorman</Link>\n      <Link to=\"/home/nearby\">Nearby</Link>\n      <Link to=\"/home/login\">Login</Link>\n      <Link to=\"/home/logout\">Logout</Link>\n    </div>\n  );\n};\n\nexport default Header;\n","type ConfigTypes = \"serverPath\";\ntype ConfigEnv = \"local\" | \"prod\";\n\nconst configValues = {\n  local: {\n    serverPath: \"http://192.168.50.253\"\n  },\n  prod: {\n    serverPath: \"https://artemcams.serveo.net\"\n  }\n};\n\nfunction config(key: ConfigTypes) {\n  const env: ConfigEnv = \"prod\";\n  return configValues[env][key];\n}\n\nexport default config;\n","interface StorageItem {\n  expiration: number;\n  value: any;\n}\n\ninterface DataStore {\n  [prop: string]: StorageItem;\n}\n\nconst USE_LOCAL_STORE = typeof localStorage !== \"undefined\";\nconst LOCAL_STORE_KEY = \"ARTEM_DATA_STORE\";\nconst VALUE_EXPIRATION = 14 * 24 * 60 * 60 * 1000;\nconst EXPIRATION_CHECK_INTERVAL = 60 * 60 * 1000;\n\nclass StorageHelper {\n  memoryStore: DataStore = {};\n  lastExpirationCheck = 0;\n  _checkForExpired() {\n    if (Date.now() < this.lastExpirationCheck + EXPIRATION_CHECK_INTERVAL)\n      return;\n    this.lastExpirationCheck = Date.now();\n    const store = this._getStore();\n    Object.keys(store).forEach(key => {\n      if (store[key].expiration < Date.now()) delete store[key];\n    });\n    this._setStore(store);\n  }\n\n  _getStore(): DataStore {\n    if (USE_LOCAL_STORE) {\n      const dataStr = localStorage.getItem(LOCAL_STORE_KEY);\n      if (dataStr) return JSON.parse(dataStr);\n    }\n    return this.memoryStore;\n  }\n\n  _setStore(value: DataStore) {\n    this._checkForExpired();\n    this.memoryStore = value;\n    if (USE_LOCAL_STORE) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(value));\n    }\n  }\n\n  set(key: string, value: any, expiration = VALUE_EXPIRATION) {\n    const store = this._getStore();\n    store[key] = {\n      expiration: Date.now() + expiration,\n      value\n    };\n    this._setStore(store);\n    return value;\n  }\n\n  get(key: string) {\n    const data = this._getStore()[key];\n    if (!data) return;\n    if (data.expiration < Date.now()) return this.clear(key);\n    return data.value;\n  }\n\n  clear(key: string) {\n    const data = this._getStore();\n    delete data[key];\n    this._setStore(data);\n  }\n}\n\nconst storageHelper = new StorageHelper();\nexport default storageHelper;\nexport { StorageHelper };\n","import storageHelper from \"./storageHelper\";\n\ninterface Auth {\n  token: string;\n}\n\nclass AuthHelper {\n  auth: Auth | null = null;\n  setAuth(auth: Auth) {\n    this.auth = auth || null;\n    storageHelper.set(\"auth\", auth);\n  }\n  clearAuth() {\n    this.auth = null;\n    storageHelper.clear(\"auth\");\n  }\n  getToken() {\n    if (this.auth === null) this.setAuth(storageHelper.get(\"auth\"));\n    if (this.auth === null) return null;\n    return this.auth.token;\n  }\n}\n\nconst authHelper = new AuthHelper();\nexport default authHelper;\nexport { AuthHelper };\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass CameraProvider {\n  async getTotalCameras() {\n    return 3;\n  }\n  async getCameraImage(cam: number): Promise<Blob> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/img/${cam}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const blob = await res.blob();\n    return blob;\n  }\n}\n\nconst cameraProvider = new CameraProvider();\n\nexport default cameraProvider;\nexport { CameraProvider };\n","import React from \"react\";\nimport Header from \"../../components/header/header\";\nimport cameraProvider from \"../../providers/cameraProvider\";\nimport authHelper from \"../../utils/authHelper\";\nimport { Redirect } from \"react-router\";\nimport style from \"./viewCameras.module.css\";\n\ninterface ViewCamerasProps {}\ninterface ViewCamerasState {\n  images: string[];\n  totalCameras: number;\n}\n\nclass ViewCameras extends React.Component<ViewCamerasProps, ViewCamerasState> {\n  state = {\n    images: [],\n    totalCameras: 0\n  };\n  mounted: boolean = false;\n  async componentDidMount() {\n    this.mounted = true;\n    const totalCameras = await cameraProvider.getTotalCameras();\n    if (!this.mounted) return;\n    this.setState({ totalCameras });\n    this.fetchImages();\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n  fetchImages = async () => {\n    if (!this.mounted) return;\n    for (let i = 0; i < this.state.totalCameras; i++) {\n      try {\n        const imageBlob = await cameraProvider.getCameraImage(i);\n        const image = URL.createObjectURL(imageBlob);\n        if (!this.mounted) break;\n        this.setState(state => {\n          const images = state.images.slice();\n          images.splice(i, 1, image);\n          return { images };\n        });\n      } catch (e) {}\n    }\n\n    setTimeout(this.fetchImages, 1000);\n  };\n  render() {\n    if (authHelper.getToken() === null) return <Redirect to=\"/home/login\" />;\n    return (\n      <React.Fragment>\n        <Header />\n        {this.state.images.map((image, idx) => (\n          <img className={style.image} key={idx} alt=\"cam\" src={image} />\n        ))}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ViewCameras;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass GateProvider {\n  async openGate(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/keypad/open`, {\n      method: \"POST\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n  async getLogs(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/keypad/logs`, {\n      method: \"GET\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n}\n\nconst gateProvider = new GateProvider();\n\nexport default gateProvider;\nexport { GateProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport style from \"./gateOpener.module.css\";\nimport gateProvider from \"../../providers/gateProvider\";\n\nconst GateOpener: React.FC = () => {\n  const [logs, setLogs] = useState(\"\");\n  if (!logs) gateProvider.getLogs().then(setLogs);\n\n  const [openRes, setOpenRes] = useState(\"\");\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={style.container}>\n        <input\n          type=\"submit\"\n          value=\"Open Gate\"\n          onClick={() => gateProvider.openGate().then(setOpenRes)}\n        />\n        <div>{openRes}</div>\n        <div className={style.logs}>\n          {logs\n            .split(\"\\n\")\n            .reverse()\n            .join(\"\\n\")}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default GateOpener;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass AnnouncementProvider {\n  async comingHome(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(\n      `${config(\"serverPath\")}/api/announce/coming_home`,\n      {\n        method: \"POST\",\n        headers: {\n          Authorization: token // \"Bearer \" + authHelper.getToken()\n        }\n      }\n    );\n    const msg = await res.text();\n    return msg;\n  }\n}\n\nconst announcementProvider = new AnnouncementProvider();\n\nexport default announcementProvider;\nexport { AnnouncementProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport styles from \"./doorman.module.css\";\nimport announcementProvider from \"../../providers/announcementProvider\";\n\nconst Doorman: React.FC = () => {\n  const [msg, setMsg] = useState(\"\");\n\n  async function clickHandler() {\n    const msg = await announcementProvider.comingHome();\n    setMsg(msg);\n  }\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={styles.container}>\n        <input type=\"submit\" value=\"Coming Home\" onClick={clickHandler} />\n        <div className={styles.response}>{msg}</div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Doorman;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass BeaconProvider {\n  async currentDevices(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(\n      `${config(\"serverPath\")}/api/nearby_devices/current`,\n      {\n        headers: { Authorization: token }\n      }\n    );\n    const msg = await res.text();\n    return msg;\n  }\n  async allDevices(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/nearby_devices/all`, {\n      headers: { Authorization: token }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n}\n\nconst beaconProvider = new BeaconProvider();\n\nexport default beaconProvider;\nexport { BeaconProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport beaconProvider from \"../../providers/beaconProvider\";\n\nconst NearbyDevices: React.FC = () => {\n  const [nearbyDevices, setNearbyDevices] = useState(\"\");\n  if (!nearbyDevices) {\n    beaconProvider.currentDevices().then(text => {\n      setNearbyDevices(text);\n    });\n  }\n  return (\n    <React.Fragment>\n      <Header />\n      <h1>Nearby Devices</h1>\n      <div id=\"current\" dangerouslySetInnerHTML={{ __html: nearbyDevices }} />\n      <h1>All Devices</h1>\n      <div id=\"all\" />\n    </React.Fragment>\n  );\n};\n\nexport default NearbyDevices;\n","import config from \"../config\";\n\ninterface LoginResponse {\n  token: string;\n}\n\nclass AuthProvider {\n  async login(username: string, password: string): Promise<LoginResponse> {\n    const res = await fetch(`${config(\"serverPath\")}/api/login`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        username,\n        password,\n        redirect: false\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await res.json();\n    return json;\n  }\n}\n\nconst authProvider = new AuthProvider();\n\nexport default authProvider;\nexport { AuthProvider };\n","import React from \"react\";\nimport style from \"./login.module.css\";\nimport authProvider from \"../../providers/authProvider\";\nimport authHelper from \"../../utils/authHelper\";\nimport { Redirect } from \"react-router\";\n\ninterface LoginProps {}\ninterface LoginState {\n  loggedIn: boolean;\n  username: string;\n  password: string;\n}\n\nclass Login extends React.Component<LoginProps, LoginState> {\n  state = {\n    loggedIn: false,\n    username: \"\",\n    password: \"\"\n  };\n  login = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const auth = await authProvider.login(\n      this.state.username,\n      this.state.password\n    );\n    authHelper.setAuth(auth);\n    this.setState({});\n  };\n  render() {\n    if (authHelper.getToken() !== null) return <Redirect to=\"/\" />;\n    return (\n      <div className={style.container}>\n        <form onSubmit={this.login}>\n          <div className={style.header}>Login</div>\n          <input\n            placeholder=\"Username\"\n            type=\"text\"\n            name=\"username\"\n            onChange={e => this.setState({ username: e.target.value })}\n          />\n          <input\n            placeholder=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <input className={style.submit} type=\"submit\" name=\"submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport Header from \"../../components/header/header\";\n\nconst Home: React.FC = () => {\n  return (\n    <React.Fragment>\n      <Header />\n      <div>Home</div>\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport authHelper from \"../../utils/authHelper\";\nimport { Redirect } from \"react-router\";\n\nconst Logout: React.FC = () => {\n  authHelper.clearAuth();\n  return <Redirect to=\"/login\" />;\n};\n\nexport default Logout;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ViewCameras from \"./containers/viewCameras/viewCameras\";\nimport GateOpener from \"./containers/gateOpener/gateOpener\";\nimport Doorman from \"./containers/doorman/doorman\";\nimport NearbyDevices from \"./containers/nearbyDevices/nearbyDevices\";\nimport Login from \"./containers/login/login\";\nimport Home from \"./containers/home/home\";\nimport Logout from \"./containers/login/logout\";\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <Route path=\"/home/\" exact component={Home} />\n      <Route path=\"/home/login\" exact component={Login} />\n      <Route path=\"/home/logout\" exact component={Logout} />\n      <Route path=\"/home/cams\" exact component={ViewCameras} />\n      <Route path=\"/home/gate\" exact component={GateOpener} />\n      <Route path=\"/home/doorman\" exact component={Doorman} />\n      <Route path=\"/home/nearby\" exact component={NearbyDevices} />\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}