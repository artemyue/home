{"version":3,"sources":["components/alarmSettings/alarmSettings.module.css","containers/home/home.module.css","components/header/header.module.css","components/iconHamburger/iconHamburger.module.css","components/environmentSelection/environmentSelection.module.css","containers/login/login.module.css","components/settingsRow/settingsRow.module.css","components/toggle/toggle.module.css","containers/gateOpener/gateOpener.module.css","containers/doorman/doorman.module.css","components/spinner/spinner.module.css","containers/settings/settings.module.css","components/input/input.module.css","containers/devices/devices.module.css","config.ts","utils/storageHelper.ts","utils/authHelper.ts","components/loginRequired/loginRequired.tsx","components/iconHamburger/iconHamburger.tsx","components/header/header.tsx","providers/cameraProvider.ts","containers/viewCameras/viewCameras.tsx","providers/gateProvider.ts","containers/gateOpener/gateOpener.tsx","providers/announcementProvider.ts","containers/doorman/doorman.tsx","providers/beaconProvider.ts","containers/nearbyDevices/nearbyDevices.tsx","providers/authProvider.ts","containers/login/login.tsx","providers/deviceProvider.ts","providers/fastPropertyProvider.ts","components/settingsRow/settingsRow.tsx","components/toggle/toggle.tsx","utils/stringFormatting.ts","components/spinner/spinner.tsx","components/alarmSettings/disarmedIcon.tsx","components/alarmSettings/homeIcon.tsx","components/alarmSettings/awayIcon.tsx","providers/alarmProvider.ts","utils/asyncHelper.ts","components/alarmSettings/alarmSettings.tsx","containers/home/home.tsx","containers/login/logout.tsx","providers/healthProvider.ts","components/environmentSelection/environmentSelection.tsx","components/input/input.tsx","containers/settings/settings.tsx","containers/devices/devices.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","container","icon","selected","disarmed","away","home","subtext","imageContainer","image","comingHomeContainer","response","responseError","lightsSection","navbar","drawer","isOpen","hamburgerIcon","title","bar1","bar2","bar3","circle","black","red","green","blue","submit","header","row","inputDescription","inputField","knob","hidden","logs","configValues","local","serverPath","appRoot","prod","dev","currentEnv","localStorage","getItem","setConfigEnv","env","setItem","config","key","arguments","length","undefined","USE_LOCAL_STORE","storageHelper","memoryStore","lastExpirationCheck","Date","now","this","store","_getStore","Object","keys","forEach","expiration","_setStore","dataStr","JSON","parse","value","_checkForExpired","stringify","data","clear","authHelper","auth","set","setAuth","get","token","LoginRequired","getToken","react_default","a","createElement","react_router","to","concat","IconHamburger","props","isOpenClass","styles","join","className","onClick","onChange","links","","cams","gate","doorman","devices","settings","login","logout","url","Header","_useState","useState","_useState2","slicedToArray","drawerOpen","setDrawerOpen","window","location","pathname","match","RegExp","loginRequired","iconHamburger","map","react_router_dom","cameraProvider","cam","Error","fetch","method","headers","Authorization","Promise","race","resolve","setTimeout","blob","res","ViewCameras","state","images","totalCameras","mounted","fetchImages","_callee","_loop","i","regenerator_default","wrap","_context2","prev","next","_this","abrupt","mark","imageBlob","_context","getCameraImage","sent","URL","createObjectURL","setState","slice","splice","t0","stop","delegateYield","getTotalCameras","Fragment","idx","style","alt","src","React","Component","gateProvider","text","msg","GateOpener","setLogs","getLogs","then","_useState3","_useState4","openRes","setOpenRes","type","openGate","split","reverse","announcementProvider","status","Doorman","setMsg","comingHome","catch","console","error","bind","beaconProvider","NearbyDevices","nearbyDevices","setNearbyDevices","currentDevices","id","dangerouslySetInnerHTML","__html","authProvider","username","password","body","redirect","Content-Type","json","Login","loggedIn","e","preventDefault","_this2","onSubmit","placeholder","name","target","deviceProvider","device","fastPropertyProvider","properties","SettingsRow","description","input","Toggle","knownAcronyms","Set","knownShortWords","toTitleCase","str","word","has","toLowerCase","toUpperCase","removeUnderscores","replace","toSnakeCase","lastIsUpper","char","Spinner","DisarmedIcon","height","width","transform","d","HomeIcon","AwayIcon","alarmProvider","mode","wait","t","r","AlarmSettings","setMode","getAlarmMode","changeMode","asyncToGenerator","setAlarmMode","disarmedIcon","homeIcon","awayIcon","Home","comingHomeStatus","setComingHomeStatus","setImages","_useState5","_useState6","lightStatus","setLightStatus","_useState7","_useState8","setConfig","useEffect","_getImages","_callee2","newImages","push","all","apply","getImages","clickConfig","newConfig","objectSpread","defineProperty","put","spinner","settingsRow","toggle","fp","alarmSettings","Logout","clearAuth","healthProvider","lastRefresh","REFRESH_INTERVAL","EnvironmentSelection","setEnv","findBestEnvironment","_findBestEnvironment","envPriority","foundEnv","_env","healthcheck","color","Input","val","parseFloat","Settings","updateTimeout","setValue","newValue","clearTimeout","Devices","deviceList","setDeviceList","getAll","findIndex","list","App","environmentSelection","path","exact","component","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","ReactDOM","render","src_App","document","getElementById","process","href","origin","addEventListener","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ecf6e034.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"alarmSettings_container__26OL9\",\"icon\":\"alarmSettings_icon__bR6g4\",\"selected\":\"alarmSettings_selected__3IFRH\",\"disarmed\":\"alarmSettings_disarmed__xsaJ7\",\"away\":\"alarmSettings_away__1bvIy\",\"home\":\"alarmSettings_home__OSVvI\",\"subtext\":\"alarmSettings_subtext__1vyGc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageContainer\":\"home_imageContainer__1Wj6w\",\"image\":\"home_image__3dMt6\",\"comingHomeContainer\":\"home_comingHomeContainer__3l_LU\",\"response\":\"home_response__34pb-\",\"responseError\":\"home_responseError__3Z3SK\",\"lightsSection\":\"home_lightsSection__1mgpW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"header_navbar__2pgbU\",\"drawer\":\"header_drawer__3MjeG\",\"isOpen\":\"header_isOpen__VPvVq\",\"hamburgerIcon\":\"header_hamburgerIcon__2_LOH\",\"title\":\"header_title__1NgUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"iconHamburger_container__a5UjP\",\"bar1\":\"iconHamburger_bar1__2Xvwe\",\"bar2\":\"iconHamburger_bar2__1qd8t\",\"bar3\":\"iconHamburger_bar3__3Vvt0\",\"selected\":\"iconHamburger_selected__3uoeA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"environmentSelection_circle__l0Qp0\",\"black\":\"environmentSelection_black__QRZ3m\",\"red\":\"environmentSelection_red__1TNHM\",\"green\":\"environmentSelection_green__1q5Hi\",\"blue\":\"environmentSelection_blue__Zr7r6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__KfNrD\",\"submit\":\"login_submit__1Cw2a\",\"header\":\"login_header__2p1Rx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"settingsRow_row__2ldd0\",\"inputDescription\":\"settingsRow_inputDescription__2y3IY\",\"inputField\":\"settingsRow_inputField__3WGK1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"toggle_container__3iGg6\",\"selected\":\"toggle_selected__uWjCN\",\"knob\":\"toggle_knob__16LKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gateOpener_container__2XCM_\",\"hidden\":\"gateOpener_hidden__a1Usl\",\"logs\":\"gateOpener_logs__1QQ2T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"doorman_container__3ecA5\",\"response\":\"doorman_response__3hBwc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"spinner_container__Z3_hD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"settings_container__2b3Xy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"input_container__2oOob\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"devices_container__3za6S\"};","/**\n *\n * DNS artem.redirectme.net for 24.7.88.154\n * https://my.noip.com/#!/dynamic-dns\n *\n * SSL Cert for artem.redirectme.net\n * https://www.sslforfree.com/certificates\n *\n * Port forwarding for 443 to 192.168.50.253:8084\n * http://192.168.50.1/Advanced_VirtualServer_Content.asp\n *\n */\n\nconst configValues = {\n  // local: {\n  //   serverPath: \"https://192.168.50.253:8084\",\n  //   appRoot: \"/home\"\n  // },\n  local: {\n    serverPath: \"https://artem.redirectme.net\",\n    appRoot: \"/home\"\n  },\n  prod: {\n    serverPath: \"https://artemcams.serveo.net\",\n    appRoot: \"/home\"\n  },\n  dev: {\n    serverPath: \"http://localhost:8082\",\n    appRoot: \"/home\"\n  }\n};\n\ntype ConfigValues = typeof configValues;\nexport type ConfigEnv = keyof ConfigValues;\nexport type ConfigTypes = keyof ConfigValues[\"local\"];\n\nlet currentEnv: ConfigEnv =\n  (localStorage.getItem(\"env\") as ConfigEnv) || \"prod\";\n\nfunction setConfigEnv(env: ConfigEnv) {\n  currentEnv = env;\n  localStorage.setItem(\"env\", env);\n}\n\nconst config = <T extends ConfigTypes>(\n  key: T,\n  env: ConfigEnv = currentEnv\n): ConfigValues[\"local\"][T] => {\n  return configValues[env][key];\n};\n\nexport default config;\nexport { setConfigEnv };\n","interface StorageItem {\n  expiration: number;\n  value: any;\n}\n\ninterface DataStore {\n  [prop: string]: StorageItem;\n}\n\nconst USE_LOCAL_STORE = typeof localStorage !== \"undefined\";\nconst LOCAL_STORE_KEY = \"ARTEM_DATA_STORE\";\nconst VALUE_EXPIRATION = 14 * 24 * 60 * 60 * 1000;\nconst EXPIRATION_CHECK_INTERVAL = 60 * 60 * 1000;\n\nclass StorageHelper {\n  memoryStore: DataStore = {};\n  lastExpirationCheck = 0;\n  _checkForExpired() {\n    if (Date.now() < this.lastExpirationCheck + EXPIRATION_CHECK_INTERVAL)\n      return;\n    this.lastExpirationCheck = Date.now();\n    const store = this._getStore();\n    Object.keys(store).forEach(key => {\n      if (store[key].expiration < Date.now()) delete store[key];\n    });\n    this._setStore(store);\n  }\n\n  _getStore(): DataStore {\n    if (USE_LOCAL_STORE) {\n      const dataStr = localStorage.getItem(LOCAL_STORE_KEY);\n      if (dataStr) return JSON.parse(dataStr);\n    }\n    return this.memoryStore;\n  }\n\n  _setStore(value: DataStore) {\n    this._checkForExpired();\n    this.memoryStore = value;\n    if (USE_LOCAL_STORE) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(value));\n    }\n  }\n\n  set(key: string, value: any, expiration = VALUE_EXPIRATION) {\n    const store = this._getStore();\n    store[key] = {\n      expiration: Date.now() + expiration,\n      value\n    };\n    this._setStore(store);\n    return value;\n  }\n\n  get(key: string) {\n    const data = this._getStore()[key];\n    if (!data) return;\n    if (data.expiration < Date.now()) return this.clear(key);\n    return data.value;\n  }\n\n  clear(key: string) {\n    const data = this._getStore();\n    delete data[key];\n    this._setStore(data);\n  }\n}\n\nconst storageHelper = new StorageHelper();\nexport default storageHelper;\nexport { StorageHelper };\n","import storageHelper from \"./storageHelper\";\n\ninterface Auth {\n  token: string;\n}\n\nclass AuthHelper {\n  auth: Auth | null = null;\n  setAuth(auth: Auth) {\n    this.auth = auth || null;\n    storageHelper.set(\"auth\", auth);\n  }\n  clearAuth() {\n    this.auth = null;\n    storageHelper.clear(\"auth\");\n  }\n  getToken() {\n    if (this.auth === null) this.setAuth(storageHelper.get(\"auth\"));\n    if (this.auth === null) return null;\n    return this.auth.token;\n  }\n}\n\nconst authHelper = new AuthHelper();\nexport default authHelper;\nexport { AuthHelper };\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport authHelper from \"../../utils/authHelper\";\nimport config from \"../../config\";\n\nconst LoginRequired: React.FC = () => {\n  if (authHelper.getToken() === null)\n    return <Redirect to={`${config(\"appRoot\")}/login`} />;\n  return null;\n};\n\nexport default LoginRequired;\n","import React from \"react\";\nimport styles from \"./iconHamburger.module.css\";\n\ninterface PropTypes {\n  onChange: { (newVal: boolean): unknown };\n  value: boolean;\n}\n\nconst IconHamburger: React.FC<PropTypes> = props => {\n  const isOpenClass = [\n    styles.container,\n    props.value ? styles.selected : \"\"\n  ].join(\" \");\n  return (\n    <div className={isOpenClass} onClick={() => props.onChange(!props.value)}>\n      <div className={styles.bar1} />\n      <div className={styles.bar2} />\n      <div className={styles.bar3} />\n    </div>\n  );\n};\n\nexport default IconHamburger;\n","import React, { useState } from \"react\";\nimport styles from \"./header.module.css\";\nimport { Link } from \"react-router-dom\";\nimport config from \"../../config\";\nimport LoginRequired from \"../loginRequired/loginRequired\";\nimport IconHamburger from \"../iconHamburger/iconHamburger\";\n\nconst links: { [url: string]: string } = {\n  \"\": \"Home\",\n  cams: \"Cams\",\n  gate: \"Gate\",\n  doorman: \"Doorman\",\n  devices: \"Devices\",\n  settings: \"Settings\",\n  // nearby: \"Nearby\",\n  login: \"Login\",\n  logout: \"Logout\"\n};\nObject.keys(links).forEach(url => {\n  links[`${config(\"appRoot\")}/${url}`] = links[url];\n  delete links[url];\n});\n\nconst Header: React.FC = () => {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n\n  const isOpenClass = [styles.drawer, drawerOpen ? styles.isOpen : \"\"].join(\n    \" \"\n  );\n  let title = \"\";\n  Object.keys(links).forEach(url => {\n    if (window.location.pathname.match(new RegExp(`^${url}`)))\n      title = links[url];\n  });\n  return (\n    <div className={styles.navbar}>\n      <LoginRequired />\n      <div className={styles.title}>{title}</div>\n      <div className={styles.hamburgerIcon}>\n        <IconHamburger value={drawerOpen} onChange={setDrawerOpen} />\n      </div>\n      <div className={isOpenClass}>\n        {Object.keys(links).map(url => (\n          <Link key={url} to={url}>\n            {links[url]}\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nconst imageFallback = () =>\n  new Promise(resolve =>\n    setTimeout(() => resolve({ blob: () => \"\" } as any), 5000)\n  ) as Promise<Response>;\n\nclass CameraProvider {\n  async getTotalCameras() {\n    return 3;\n  }\n  async getCameraImage(cam: number): Promise<Blob> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const get = fetch(`${config(\"serverPath\")}/api/img/${cam}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const res = await Promise.race([get, imageFallback()]);\n    const blob = await res.blob();\n    return blob;\n  }\n}\n\nconst cameraProvider = new CameraProvider();\n\nexport default cameraProvider;\nexport { CameraProvider };\n","import React from \"react\";\nimport Header from \"../../components/header/header\";\nimport cameraProvider from \"../../providers/cameraProvider\";\nimport style from \"./viewCameras.module.css\";\n\ninterface ViewCamerasProps {}\ninterface ViewCamerasState {\n  images: string[];\n  totalCameras: number;\n}\n\nclass ViewCameras extends React.Component<ViewCamerasProps, ViewCamerasState> {\n  state = {\n    images: [],\n    totalCameras: 0\n  };\n  mounted: boolean = false;\n  async componentDidMount() {\n    this.mounted = true;\n    const totalCameras = await cameraProvider.getTotalCameras();\n    if (!this.mounted) return;\n    this.setState({ totalCameras });\n    this.fetchImages();\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n  fetchImages = async () => {\n    if (!this.mounted) return;\n    for (let i = 0; i < this.state.totalCameras; i++) {\n      try {\n        const imageBlob = await cameraProvider.getCameraImage(i);\n        const image = URL.createObjectURL(imageBlob);\n        if (!this.mounted) break;\n        this.setState(state => {\n          const images = state.images.slice();\n          images.splice(i, 1, image);\n          return { images };\n        });\n      } catch (e) {}\n    }\n\n    setTimeout(this.fetchImages, 1000);\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <Header />\n        {this.state.images.map((image, idx) => (\n          <img className={style.image} key={idx} alt=\"cam\" src={image} />\n        ))}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ViewCameras;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass GateProvider {\n  async openGate(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/keypad/open`, {\n      method: \"POST\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n  async getLogs(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/keypad/logs`, {\n      method: \"GET\",\n      headers: {\n        Authorization: token // \"Bearer \" + authHelper.getToken()\n      }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n}\n\nconst gateProvider = new GateProvider();\n\nexport default gateProvider;\nexport { GateProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport style from \"./gateOpener.module.css\";\nimport gateProvider from \"../../providers/gateProvider\";\n\nconst GateOpener: React.FC = () => {\n  const [logs, setLogs] = useState(\"\");\n  if (!logs) gateProvider.getLogs().then(setLogs);\n\n  const [openRes, setOpenRes] = useState(\"\");\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={style.container}>\n        <input\n          type=\"submit\"\n          value=\"Open Gate\"\n          onClick={() => gateProvider.openGate().then(setOpenRes)}\n        />\n        <div>{openRes}</div>\n        <div className={style.logs}>\n          {logs\n            .split(\"\\n\")\n            .reverse()\n            .join(\"\\n\")}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default GateOpener;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass AnnouncementProvider {\n  async comingHome(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(\n      `${config(\"serverPath\")}/api/announce/coming_home`,\n      {\n        method: \"POST\",\n        headers: {\n          Authorization: token // \"Bearer \" + authHelper.getToken()\n        }\n      }\n    );\n    const msg = await res.text();\n    if (res.status >= 400) throw new Error(msg);\n    return msg;\n  }\n}\n\nconst announcementProvider = new AnnouncementProvider();\n\nexport default announcementProvider;\nexport { AnnouncementProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport styles from \"./doorman.module.css\";\nimport announcementProvider from \"../../providers/announcementProvider\";\n\nconst Doorman: React.FC = () => {\n  const [msg, setMsg] = useState(\"\");\n\n  function clickHandler() {\n    announcementProvider\n      .comingHome()\n      .then(setMsg)\n      .catch(console.error.bind(console));\n  }\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={styles.container}>\n        <input type=\"submit\" value=\"Coming Home\" onClick={clickHandler} />\n        <div className={styles.response}>{msg}</div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Doorman;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass BeaconProvider {\n  async currentDevices(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(\n      `${config(\"serverPath\")}/api/nearby_devices/current`,\n      {\n        headers: { Authorization: token }\n      }\n    );\n    const msg = await res.text();\n    return msg;\n  }\n  async allDevices(): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/nearby_devices/all`, {\n      headers: { Authorization: token }\n    });\n    const msg = await res.text();\n    return msg;\n  }\n}\n\nconst beaconProvider = new BeaconProvider();\n\nexport default beaconProvider;\nexport { BeaconProvider };\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport beaconProvider from \"../../providers/beaconProvider\";\n\nconst NearbyDevices: React.FC = () => {\n  const [nearbyDevices, setNearbyDevices] = useState(\"\");\n  if (!nearbyDevices) {\n    beaconProvider\n      .currentDevices()\n      .then(setNearbyDevices)\n      .catch(console.error.bind(console));\n  }\n  return (\n    <React.Fragment>\n      <Header />\n      <h1>Nearby Devices</h1>\n      <div id=\"current\" dangerouslySetInnerHTML={{ __html: nearbyDevices }} />\n      <h1>All Devices</h1>\n      <div id=\"all\" />\n    </React.Fragment>\n  );\n};\n\nexport default NearbyDevices;\n","import config from \"../config\";\n\ninterface LoginResponse {\n  token: string;\n}\n\nclass AuthProvider {\n  async login(username: string, password: string): Promise<LoginResponse> {\n    const res = await fetch(`${config(\"serverPath\")}/api/login`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        username,\n        password,\n        redirect: false\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await res.json();\n    return json;\n  }\n}\n\nconst authProvider = new AuthProvider();\n\nexport default authProvider;\nexport { AuthProvider };\n","import React from \"react\";\nimport style from \"./login.module.css\";\nimport authProvider from \"../../providers/authProvider\";\nimport authHelper from \"../../utils/authHelper\";\nimport { Redirect } from \"react-router\";\nimport config from \"../../config\";\n\ninterface LoginProps {}\ninterface LoginState {\n  loggedIn: boolean;\n  username: string;\n  password: string;\n}\n\nclass Login extends React.Component<LoginProps, LoginState> {\n  state = {\n    loggedIn: false,\n    username: \"\",\n    password: \"\"\n  };\n  login = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const auth = await authProvider.login(\n      this.state.username,\n      this.state.password\n    );\n    authHelper.setAuth(auth);\n    this.setState({});\n  };\n  render() {\n    if (authHelper.getToken() !== null)\n      return <Redirect to={config(\"appRoot\")} />;\n    return (\n      <div className={style.container}>\n        <form onSubmit={this.login}>\n          <div className={style.header}>Login</div>\n          <input\n            placeholder=\"Username\"\n            type=\"text\"\n            name=\"username\"\n            onChange={e => this.setState({ username: e.target.value })}\n          />\n          <input\n            placeholder=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <input className={style.submit} type=\"submit\" name=\"submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nexport interface Device {\n  id: string;\n  name: string;\n  status: boolean | null;\n}\n\nclass DeviceProvider {\n  async getAll(): Promise<Device[]> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/devices`, {\n      headers: {\n        Authorization: token\n      }\n    });\n    const msg = await res.json();\n    return msg.devices;\n  }\n\n  async get(id: string): Promise<Device> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/devices/${id}`, {\n      headers: {\n        Authorization: token,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const msg = await res.json();\n    return msg;\n  }\n\n  async put(id: string, device: Partial<Device>): Promise<Device> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/devices/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: token,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(device)\n    });\n    const msg = await res.json();\n    return msg;\n  }\n}\n\nconst deviceProvider = new DeviceProvider();\n\nexport default deviceProvider;\nexport { DeviceProvider };\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass FastPropertyProvider {\n  async get(): Promise<any> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/fast_properties`, {\n      headers: {\n        Authorization: token\n      }\n    });\n    const msg = await res.json();\n    return msg;\n  }\n\n  async put(properties: any): Promise<any> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/fast_properties`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: token,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(properties)\n    });\n    const msg = await res.json();\n    return msg;\n  }\n}\n\nconst fastPropertyProvider = new FastPropertyProvider();\n\nexport default fastPropertyProvider;\nexport { FastPropertyProvider };\n","import React from \"react\";\nimport styles from \"./settingsRow.module.css\";\n\ninterface PropTypes {\n  description: React.Component | string;\n  input: any;\n}\n\nconst SettingsRow: React.FC<PropTypes> = props => {\n  return (\n    <div className={styles.row}>\n      <div className={styles.inputDescription}>{props.description}</div>\n      <div className={styles.inputField}>{props.input}</div>\n    </div>\n  );\n};\n\nexport default SettingsRow;\n","import React from \"react\";\nimport styles from \"./toggle.module.css\";\n\ninterface PropTypes {\n  onChange: { (newVal: boolean): unknown };\n  value: boolean;\n}\n\nconst Toggle: React.FC<PropTypes> = props => {\n  return (\n    <span\n      className={[styles.container, props.value ? styles.selected : \"\"].join(\n        \" \"\n      )}\n      onClick={() => props.onChange(!props.value)}\n    >\n      <div className={styles.knob} />\n    </span>\n  );\n};\n\nexport default Toggle;\n","import moment from \"moment-timezone\";\n\nconst knownAcronyms = new Set([\"CCM\"]);\nconst knownShortWords = new Set([\"up\", \"of\", \"in\", \"on\"]);\nfunction isAcronym(str: string) {\n  if (str.length <= 2 && !knownShortWords.has(str.toLowerCase())) return true;\n  if (knownAcronyms.has(str.toUpperCase())) return true;\n  return false;\n}\n\nfunction toTitleCase(str: string) {\n  if (typeof str !== \"string\") return str;\n  return str\n    .split(\" \")\n    .map(word =>\n      !isAcronym(word)\n        ? word[0].toUpperCase() + word.slice(1).toLowerCase()\n        : word\n    )\n    .join(\" \");\n}\n\nfunction removeUnderscores(str: string) {\n  if (typeof str !== \"string\") return str;\n  return str.replace(/_/g, \" \");\n}\n\nfunction offsetToPacificTime(date: moment.Moment) {\n  if (date.tz(\"America/Los_Angeles\").isDST()) return date.utcOffset(\"-07:00\");\n  return date.utcOffset(\"-08:00\");\n}\n\nfunction dateTime(date: number, format?: string) {\n  if (typeof date !== \"number\") return date;\n  return offsetToPacificTime(moment(date)).format(format);\n}\n\nfunction relativeTime(date: number) {\n  if (typeof date !== \"number\") return date;\n  return moment(date).fromNow();\n}\n\nfunction date(date: number) {\n  if (typeof date !== \"number\") return date;\n  return offsetToPacificTime(moment(date)).format(\"MMM D, YYYY\");\n}\n\nfunction dateWithDay(date: number) {\n  if (typeof date !== \"number\") return date;\n  return offsetToPacificTime(moment(date)).format(\"ddd, MMM D, YYYY\");\n}\n\nfunction dateRange(date1: number, date2: number) {\n  if (!date1 && !date2) return null;\n  const str1 = offsetToPacificTime(moment(date1)).format(\"MMM D, YYYY\");\n  const str2 = offsetToPacificTime(moment(date2)).format(\"MMM D, YYYY\");\n  if (!date1) return str2;\n  if (!date2) return str1;\n  if (date1 === date2) return str1;\n  return `${str1} - ${str2}`;\n}\n\nfunction toSnakeCase(str: string) {\n  let lastIsUpper = true;\n  return str\n    .split(\"\")\n    .map(char => {\n      if (char.toUpperCase() === char) {\n        if (lastIsUpper) return char.toLowerCase();\n        lastIsUpper = true;\n        return \"_\" + char.toLowerCase();\n      } else {\n        lastIsUpper = false;\n        return char.toLowerCase();\n      }\n    })\n    .join(\"\");\n}\n\nexport {\n  toTitleCase,\n  removeUnderscores,\n  dateTime,\n  relativeTime,\n  date,\n  dateWithDay,\n  dateRange,\n  toSnakeCase\n};\n","import React from \"react\";\nimport styles from \"./spinner.module.css\";\n\ninterface PropTypes {}\n\nconst Spinner: React.FC<PropTypes> = props => {\n  return (\n    <div className={styles.container}>\n      <div />\n      <div />\n      <div />\n      <div />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from \"react\";\n\nconst DisarmedIcon = () => (\n  <svg height=\"64px\" width=\"64px\">\n    <path\n      transform=\"translate(0, 64), scale(0.064, -0.064)\"\n      d=\"M512 853q51 -7 97 -18t90 -26l-7 2q40 -13 75 -29.5t67 -37.5l-2 2v-396q-23 -45 -54 -84t-68 -70l-1 -1q-42 -34 -90.5 -61.5t-101.5 -46.5l-5 -2q-57 20 -106 47.5t-92 61.5l1 -1q-38 33 -69 71.5t-53 83.5l-1 3v395q30 19 64.5 35.5t71.5 28.5l4 1q39 13 83.5 24\n    t91.5 18h5v0zM512 896q-54 -7 -103.5 -18t-96.5 -27l8 2q-49 -15 -92 -36.5t-81 -49.5l2 1v-427q25 -53 59.5 -97.5t77.5 -79.5l1 -1q48 -38 103.5 -68.5t116.5 -50.5l5 -1q65 21 121 51.5t105 69.5l-2 -1q44 36 78.5 80t58.5 95l2 3v427q-37 27 -79 48.5t-88 35.5l-4 1\n    q-41 14 -89 25t-98 17l-5 1v0zM542 491l135 134q3 3 4.5 7t1.5 9q0 9 -6.5 15t-14.5 6q-5 0 -9 -1.5t-7 -4.5v0l-134 -135l-136 136q-3 3 -6.5 4.5t-8.5 1.5q-9 0 -15 -6.5t-6 -15.5q0 -4 1.5 -8t4.5 -7l136 -135l-136 -136q-2 -3 -3 -6t-1 -7q0 -9 6 -15t15 -6q4 0 7 1t6 3\n    v0l136 135l136 -135q3 -3 6.5 -5t8.5 -2q9 0 15 6.5t6 15.5q0 4 -1.5 8t-4.5 7v0z\"\n    />\n  </svg>\n);\n\nexport default DisarmedIcon;\n","import React from \"react\";\n\nconst HomeIcon = () => (\n  <svg height=\"64px\" width=\"64px\">\n    <path\n      transform=\"translate(0, 64), scale(0.064, -0.064)\"\n      d=\"M597 640q0 -35 -25 -60t-60 -25t-60 25t-25 60t25 60t60 25t60 -25t25 -60v0zM704 853q-41 14 -89 25t-98 17l-5 1q-54 -7 -103.5 -18t-96.5 -27l8 2q-49 -15 -92 -36.5t-81 -49.5l2 1v-427q25 -53 59.5 -97.5t77.5 -79.5l1 -1q48 -38 103.5 -68.5t116.5 -50.5l5 -1\n      q65 21 121 51.5t105 69.5l-2 -1q44 36 78.5 80t58.5 95l2 3v427q-37 27 -79 48.5t-88 35.5l-4 1v0zM832 352q-23 -46 -53.5 -84.5t-68.5 -70.5v0q-25 -21 -52.5 -39t-56.5 -33l-4 -1v175q0 -18 12.5 -30.5t30.5 -12.5t30.5 12.5t12.5 30.5v0v170q0 18 -12.5 30.5t-30.5 12.5\n      v0h-256q-18 0 -30.5 -12.5t-12.5 -30.5v0v-170q0 -18 12.5 -30.5t30.5 -12.5t30.5 12.5t12.5 30.5v0v-175q-32 15 -60 33t-53 39l1 -1q-38 32 -68.5 70.5t-53.5 82.5l-1 3v395q30 19 64.5 35.5t71.5 28.5l4 1q39 13 83.5 24t91.5 18h5q51 -7 97 -18t90 -26l-7 2\n      q40 -13 75 -29.5t67 -37.5l-2 2v-394z\"\n    />\n  </svg>\n);\n\nexport default HomeIcon;\n","import React from \"react\";\n\nconst AwayIcon = () => (\n  <svg height=\"64px\" width=\"64px\">\n    <path\n      transform=\"translate(0, 64), scale(0.064, -0.064)\"\n      d=\"M704 853q-41 14 -89 25t-98 17l-5 1q-54 -7 -103.5 -18t-96.5 -27l8 2q-49 -15 -92 -36.5t-81 -49.5l2 1v-427q25 -53 59.5 -97.5t77.5 -79.5l1 -1q48 -38 103.5 -68.5t116.5 -50.5l5 -1q65 21 121 51.5t105 69.5l-2 -1q44 36 78.5 80t58.5 95l2 3v427q-37 27 -79 48.5 t-88 35.5l-4 1v0zM512 85q-41 15 -76.5 32t-68.5 38l3 -1l43 78l99 -97v-50v0zM832 348q-23 -46 -54 -84.5t-68 -69.5l-1 -1q-24 -19 -51.5 -36.5t-56.5 -31.5l-4 -1v29q0 9 -3 16.5t-9 13.5l-73 73l47 85l38 -42h86q17 0 29.5 12.5t12.5 29.5q0 18 -12.5 30.5t-29.5 12.5v0 h-47l-34 35l28 51q3 4 4.5 9.5t1.5 10.5q0 11 -5.5 20.5t-13.5 15.5v0l-105 71h-136l-77 -143q-3 -5 -4.5 -10t-1.5 -11q0 -18 12.5 -30.5t30.5 -12.5q12 0 22 5.5t15 15.5v0l54 101h42l-168 -304q-33 30 -60 65t-48 75l-1 3v395q30 19 64.5 35.5t71.5 28.5l4 1 q39 13 83.5 24t91.5 18h5q51 -7 97 -18t90 -26l-7 2q40 -13 75 -29.5t67 -37.5l-2 2v-398zM725 640q0 -35 -25 -60t-60 -25t-60 25t-25 60t25 60t60 25t60 -25t25 -60v0z\"\n    />\n  </svg>\n);\n\nexport default AwayIcon;\n","import config from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nexport type AlarmMode = \"all\" | \"some\" | \"none\" | \"exit_delay\" | null;\n\nclass AlarmProvider {\n  async setAlarmMode(mode: AlarmMode): Promise<AlarmMode> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/alarm/${mode}`, {\n      method: \"POST\",\n      headers: {\n        Authorization: token\n      }\n    });\n    const msg = await res.text();\n    return JSON.parse(msg).mode;\n  }\n  async getAlarmMode(): Promise<AlarmMode> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\")}/api/alarm`, {\n      method: \"GET\",\n      headers: {\n        Authorization: token\n      }\n    });\n    const msg = await res.text();\n    return JSON.parse(msg).mode;\n  }\n}\n\nconst alarmProvider = new AlarmProvider();\n\nexport default alarmProvider;\nexport { AlarmProvider };\n","const wait = (t: number) => new Promise(r => setTimeout(r, t));\n\nexport { wait };\n","import React, { useState } from \"react\";\nimport styles from \"./alarmSettings.module.css\";\n\nimport DisarmedIcon from \"./disarmedIcon\";\nimport HomeIcon from \"./homeIcon\";\nimport AwayIcon from \"./awayIcon\";\nimport alarmProvider, { AlarmMode } from \"../../providers/alarmProvider\";\nimport { wait } from \"../../utils/asyncHelper\";\n\nconst AlarmSettings: React.FC = () => {\n  const [mode, setMode] = useState(null as AlarmMode);\n\n  if (!mode) {\n    alarmProvider.getAlarmMode().then(setMode);\n  }\n\n  const changeMode = (mode: AlarmMode) => async () => {\n    setMode(mode);\n    mode = await alarmProvider.setAlarmMode(mode);\n    setMode(mode);\n    await wait(45 * 1000);\n    mode = await alarmProvider.getAlarmMode();\n    setMode(mode);\n  };\n\n  return (\n    <div className={styles.container}>\n      <div\n        onClick={changeMode(\"none\")}\n        className={`${styles.icon} ${\n          mode === \"none\" ? `${styles.disarmed} ${styles.selected}` : \"\"\n        }`}\n      >\n        <DisarmedIcon />\n      </div>\n      <div\n        onClick={changeMode(\"some\")}\n        className={`${styles.icon} ${\n          mode === \"some\" ? `${styles.home} ${styles.selected}` : \"\"\n        }`}\n      >\n        <HomeIcon />\n      </div>\n      <div\n        onClick={changeMode(\"all\")}\n        className={`${styles.icon} ${\n          mode === \"all\" || mode === \"exit_delay\"\n            ? `${styles.away} ${styles.selected}`\n            : \"\"\n        }`}\n      >\n        <AwayIcon />\n      </div>\n      <div className={styles.subtext}>\n        {mode === \"none\"\n          ? \"Disarmed\"\n          : mode === \"some\"\n          ? \"Home\"\n          : mode === \"all\"\n          ? \"Away\"\n          : mode === \"exit_delay\"\n          ? \"Exit Delay\"\n          : null}\n      </div>\n    </div>\n  );\n};\n\nexport default AlarmSettings;\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport styles from \"./home.module.css\";\nimport cameraProvider from \"../../providers/cameraProvider\";\nimport announcementProvider from \"../../providers/announcementProvider\";\nimport deviceProvider from \"../../providers/deviceProvider\";\nimport fastPropertyProvider from \"../../providers/fastPropertyProvider\";\nimport SettingsRow from \"../../components/settingsRow/settingsRow\";\nimport Toggle from \"../../components/toggle/toggle\";\nimport {\n  toTitleCase,\n  removeUnderscores,\n  toSnakeCase\n} from \"../../utils/stringFormatting\";\nimport Spinner from \"../../components/spinner/spinner\";\nimport AlarmSettings from \"../../components/alarmSettings/alarmSettings\";\n\nconst formatFp = (fp: string) =>\n  toTitleCase(removeUnderscores(toSnakeCase(fp)));\n\ntype RequestStatus = \"NONE\" | \"PENDING\" | \"SUCCESS\" | \"FAILURE\";\n\nconst Home: React.FC = () => {\n  const [comingHomeStatus, setComingHomeStatus] = useState(\n    \"NONE\" as RequestStatus\n  );\n\n  const [images, setImages] = useState([] as string[]);\n  const [lightStatus, setLightStatus] = useState(null as boolean | null);\n  const [config, setConfig] = useState({} as { [key: string]: any });\n\n  useEffect(() => {\n    deviceProvider\n      .get(\"livingRoomLight\")\n      .then(r => setLightStatus(r.status))\n      .catch(e => console.error(e));\n  }, [setLightStatus]);\n\n  useEffect(() => {\n    fastPropertyProvider\n      .get()\n      .then(setConfig)\n      .catch(e => console.error(e));\n  }, [setConfig]);\n\n  useEffect(() => {\n    async function getImages() {\n      const totalCameras = await cameraProvider.getTotalCameras();\n      const fetchImages: Promise<string>[] = [];\n\n      for (let i = 0; i < totalCameras; i++) {\n        fetchImages.push(\n          (async () => {\n            try {\n              const imageBlob = await cameraProvider.getCameraImage(i);\n              const image = URL.createObjectURL(imageBlob);\n              return image;\n            } catch (e) {\n              return \"\";\n            }\n          })()\n        );\n      }\n\n      const newImages = await Promise.all(fetchImages);\n      setImages(newImages);\n    }\n    getImages();\n  }, [setImages]);\n\n  function clickComingHome() {\n    setComingHomeStatus(\"PENDING\");\n    announcementProvider\n      .comingHome()\n      .then(() => setComingHomeStatus(\"SUCCESS\"))\n      .catch(e => {\n        setComingHomeStatus(\"FAILURE\");\n        console.error(e);\n      });\n  }\n  const clickLightStatus = (status: boolean) => {\n    setLightStatus(status);\n    deviceProvider.put(\"livingRoomLight\", { status });\n  };\n  const clickConfig = (key: string) => (value: boolean) => {\n    const newConfig = { ...config, [key]: value };\n    setConfig(newConfig);\n    fastPropertyProvider.put(newConfig);\n  };\n\n  const settingsToShow = [\n    \"livingRoomLightsMotionOn\",\n    \"livingRoomLightsMotionOff\"\n  ];\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={styles.imageContainer}>\n        {images.map((image, idx) => (\n          <img className={styles.image} key={idx} alt=\"cam\" src={image} />\n        ))}\n      </div>\n      <div className={styles.comingHomeContainer}>\n        {comingHomeStatus === \"FAILURE\" || comingHomeStatus === \"NONE\" ? (\n          <input type=\"submit\" value=\"Coming Home\" onClick={clickComingHome} />\n        ) : comingHomeStatus === \"PENDING\" ? (\n          <Spinner />\n        ) : null}\n        {comingHomeStatus === \"SUCCESS\" ? (\n          <div className={styles.response}>See you soon!</div>\n        ) : comingHomeStatus === \"FAILURE\" ? (\n          <div className={styles.responseError}>Please try again.</div>\n        ) : null}\n      </div>\n      <div className={styles.lightsSection}>\n        <SettingsRow\n          description=\"Living Room Lights\"\n          input={\n            lightStatus !== null ? (\n              <Toggle value={lightStatus} onChange={clickLightStatus} />\n            ) : null\n          }\n        />\n        {settingsToShow.map(key => (\n          <SettingsRow\n            key={key}\n            description={formatFp(key)}\n            input={\n              typeof config[key] === \"boolean\" ? (\n                <Toggle value={config[key]} onChange={clickConfig(key)} />\n              ) : null\n            }\n          />\n        ))}\n      </div>\n      <AlarmSettings />\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport authHelper from \"../../utils/authHelper\";\nimport { Redirect } from \"react-router\";\nimport config from \"../../config\";\n\nconst Logout: React.FC = () => {\n  authHelper.clearAuth();\n  return <Redirect to={`${config(\"appRoot\")}/login`} />;\n};\n\nexport default Logout;\n","import config, { ConfigEnv } from \"../config\";\nimport authHelper from \"../utils/authHelper\";\n\nclass HealthProvider {\n  async healthcheck(env?: ConfigEnv): Promise<string> {\n    const token = authHelper.getToken();\n    if (token === null) throw new Error(\"UNAUTHORIZED\");\n    const res = await fetch(`${config(\"serverPath\", env)}/healthcheck`, {\n      headers: { Authorization: token }\n    });\n    const text = await res.text();\n    return text;\n  }\n}\n\nconst healthProvider = new HealthProvider();\n\nexport default healthProvider;\nexport { HealthProvider };\n","import React, { useState } from \"react\";\nimport { ConfigEnv, setConfigEnv } from \"../../config\";\nimport healthProvider from \"../../providers/healthProvider\";\nimport styles from \"./environmentSelection.module.css\";\n\nlet lastRefresh = 0;\nconst REFRESH_INTERVAL = 60 * 1000;\n\nconst EnvironmentSelection: React.FC = () => {\n  const [env, setEnv] = useState();\n\n  async function findBestEnvironment() {\n    const now = Date.now();\n    if (lastRefresh + REFRESH_INTERVAL > now)\n      return setTimeout(findBestEnvironment, 1000);\n    lastRefresh = now;\n\n    const envPriority: ConfigEnv[] = [\"dev\", \"local\", \"prod\"];\n    let foundEnv = false;\n    for (let i = 0; i < envPriority.length; i++) {\n      try {\n        const env = envPriority[i];\n        await healthProvider.healthcheck(env);\n        setEnv(env);\n        setConfigEnv(env);\n        foundEnv = true;\n        break;\n      } catch (e) {}\n    }\n    if (!foundEnv) {\n      setEnv(\"offline\");\n      setConfigEnv(\"prod\");\n    }\n\n    setTimeout(findBestEnvironment, 1000);\n  }\n\n  if (!env) {\n    findBestEnvironment();\n    return null;\n  }\n\n  const color =\n    env === \"prod\"\n      ? styles.blue\n      : env === \"local\"\n      ? styles.green\n      : env === \"offline\"\n      ? styles.red\n      : env === \"dev\"\n      ? styles.black\n      : \"\";\n\n  return <div className={[styles.circle, color].join(\" \")} />;\n};\n\nexport default EnvironmentSelection;\n","import React from \"react\";\nimport styles from \"./input.module.css\";\n\ninterface PropTypes<T extends string | number> {\n  onChange: { (newVal: T): unknown };\n  value: T;\n}\n\nconst Input: React.FC<PropTypes<string | number>> = props => {\n  const parseOnChange = (val: string) => {\n    if (typeof props.value === \"number\") return parseFloat(val);\n    return val;\n  };\n  return (\n    <input\n      type=\"text\"\n      className={styles.container}\n      onChange={e => props.onChange(parseOnChange(e.target.value))}\n      value={props.value}\n    />\n  );\n};\n\nexport default Input;\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport styles from \"./settings.module.css\";\nimport fastPropertyProvider from \"../../providers/fastPropertyProvider\";\nimport {\n  toSnakeCase,\n  toTitleCase,\n  removeUnderscores\n} from \"../../utils/stringFormatting\";\nimport Toggle from \"../../components/toggle/toggle\";\nimport Input from \"../../components/input/input\";\nimport SettingsRow from \"../../components/settingsRow/settingsRow\";\n\nconst formatFp = (fp: string) =>\n  toTitleCase(removeUnderscores(toSnakeCase(fp)));\n\nconst Settings: React.FC = () => {\n  const [config, setConfig] = useState({} as { [key: string]: any });\n\n  let updateTimeout = 0;\n  const setValue = (key: string) => (value: any) => {\n    const newValue = { ...config, [key]: value };\n    setConfig(newValue);\n    clearTimeout(updateTimeout);\n    updateTimeout = window.setTimeout(\n      () => fastPropertyProvider.put(newValue),\n      1000\n    );\n  };\n\n  if (!Object.keys(config).length) {\n    fastPropertyProvider.get().then(setConfig);\n  }\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={styles.container}>\n        {Object.keys(config).map(key => (\n          <SettingsRow\n            key={key}\n            description={formatFp(key)}\n            input={\n              typeof config[key] === \"boolean\" ? (\n                <Toggle value={config[key]} onChange={setValue(key)} />\n              ) : (\n                <Input value={config[key]} onChange={setValue(key)} />\n              )\n            }\n          />\n        ))}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Settings;\n","import React, { useState } from \"react\";\nimport Header from \"../../components/header/header\";\nimport styles from \"./devices.module.css\";\nimport Toggle from \"../../components/toggle/toggle\";\nimport deviceProvider, { Device } from \"../../providers/deviceProvider\";\nimport SettingsRow from \"../../components/settingsRow/settingsRow\";\n\nconst Devices: React.FC = () => {\n  const [deviceList, setDeviceList] = useState([] as Device[]);\n\n  if (!deviceList.length) {\n    deviceProvider.getAll().then(setDeviceList);\n  }\n\n  const setValue = (id: string) => (status: any) => {\n    const idx = deviceList.findIndex(d => d.id === id);\n    const device = { ...deviceList[idx] };\n    device.status = status;\n    const list = deviceList.slice();\n    list.splice(idx, 1, device);\n    deviceProvider.put(device.id, { status });\n    setDeviceList(list);\n  };\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className={styles.container}>\n        {deviceList.map(device => (\n          <SettingsRow\n            key={device.id}\n            description={device.name}\n            input={\n              typeof device.status === \"boolean\" ? (\n                <Toggle value={device.status} onChange={setValue(device.id)} />\n              ) : null\n            }\n          />\n        ))}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Devices;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ViewCameras from \"./containers/viewCameras/viewCameras\";\nimport GateOpener from \"./containers/gateOpener/gateOpener\";\nimport Doorman from \"./containers/doorman/doorman\";\nimport NearbyDevices from \"./containers/nearbyDevices/nearbyDevices\";\nimport Login from \"./containers/login/login\";\nimport Home from \"./containers/home/home\";\nimport Logout from \"./containers/login/logout\";\nimport config from \"./config\";\nimport EnvironmentSelection from \"./components/environmentSelection/environmentSelection\";\nimport Settings from \"./containers/settings/settings\";\nimport Devices from \"./containers/devices/devices\";\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <EnvironmentSelection />\n      <Route path={config(\"appRoot\")} exact component={Home} />\n      <Route path={`${config(\"appRoot\")}/login`} exact component={Login} />\n      <Route path={`${config(\"appRoot\")}/logout`} exact component={Logout} />\n      <Route path={`${config(\"appRoot\")}/cams`} exact component={ViewCameras} />\n      <Route path={`${config(\"appRoot\")}/gate`} exact component={GateOpener} />\n      <Route path={`${config(\"appRoot\")}/doorman`} exact component={Doorman} />\n      <Route path={`${config(\"appRoot\")}/devices`} exact component={Devices} />\n      <Route\n        path={`${config(\"appRoot\")}/settings`}\n        exact\n        component={Settings}\n      />\n      <Route\n        path={`${config(\"appRoot\")}/nearby`}\n        exact\n        component={NearbyDevices}\n      />\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}